{% macro dialog(
  class=false,
  id,
  title,
  text,
  cancel_text='Cancel',
  primary_action_text='Delete',
  primary_action_dismiss=false,
  open=false,
  aria_hidden=true
  ) %}
  <dialog class="luci-dialog{{ ' ' + class if class }}" {% if open %}open{% endif %} {% if id %}id="{{ id }}"{% endif %} aria-modal="true" aria-hidden="{{ aria_hidden }}" role="dialog">
    <div class="luci-dialog__content">
      <div class="luci-dialog__header">
        <h4 class="luci-dialog__title">{{ title }}</h4>
        {{ button(
            class="luci-button--icon-only luci-button--flat", icon_left='close',
            custom_attr_array=[
              {
                name: 'data-luci-dismiss',
                value: 'modal'
              }
            ]
          ) }}
      </div>
      <div class="luci-dialog__body">
        <p class="luci-dialog__text">{{ text | safe }}</p>
        {% if caller %}
          {{ caller() }}
        {% endif %}
      </div>
      <div class="luci-dialog__footer">
        {% if cancel_text != false %}
          {{ link(
            text=cancel_text,
            custom_attr_array=[
                {
                  name: 'data-luci-dismiss',
                  value: 'modal'
                }
              ]
            ) }}
        {% endif %}

        {% if primary_action_dismiss %}
          {{ button(
              class="luci-button--primary",
              text=primary_action_text,
              custom_attr_array=[
                {
                  name: 'data-luci-dismiss',
                  value: 'modal'
                }
              ]) }}
            {% else %}
            {{ button(class="luci-button--primary", text=primary_action_text) }}
        {% endif %}
      </div>
    </div>
  </dialog>
{% endmacro %}
